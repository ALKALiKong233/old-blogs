---
layout:     post
title:      y7000安装Arch Linux遇到的一些坑以及解决方案
subtitle:   y7000 Arch Linux
date:       2019-09-22
author:     ALKALiKong
header-img: img/post-archlinux-y7k.png
catalog: true
tags:
    - ArchLinux
    - y7000
---

## 网络问题
网络驱动是有的，y7k网络问题已在kernel 5.x中修复，因此保持最新的kernel就可以了
```
rfkill
```
**最新内核**得出的结果一般都可以看到ideapad_wlan为软件锁
此时我们只需要执行以下命令来解锁
```
sudo rfkill unblock all
```
~~洗手发行版Manjaro由于live环境内核为4.19所以还是需要小伙伴们用手机联网2333~~ (已经 2021 年了 Manjaro 应该不会在 live 里用 4.19 了吧)

## 显卡驱动问题

https://wiki.archlinux.org/index.php/NVIDIA_Optimus_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)

这里有详细的介绍

**使用 optimus-manager 配置　(ＵＰＤＡＴＥ ｏｎ　20210821)**
从 AUR 构建 optimus-manager  
```
git clone https://aur.archlinux.org/optimus-manager.git
cd optimus-manager
makepkg -si
```

若 `optimus-manager.service` 没有被启用，请启用相关 systemd service  
另外，可以使用 [`optimus-manager-qt`](https://aur.archlinux.org/packages/optimus-manager-qt/) 作为图形化前端

## 额外：输入法问题 (ＵＰＤＡＴＥ ｏｎ　20210821)  
现在已经是 `fcitx5` 的时代了（~~大人，时代变了~~） 
目前我正在使用 `fcitx rime` 并使用 [clover pinyin 方案](https://www.fkxxyz.com/d/cloverpinyin/)   

* 安装  
    安装 `fcitx5-im` `fcitx5-rime` `fcitx-cloverpinyin`<sup>AUR</sup>  
    ``` yay -S fcitx5-im fcitx5-rime fcitx-cloverpinyin ```  
* 切换到 `clover pinyin` 方案  
    修改 `~/.config/fcitx5/rime/default.custom.yaml`, 添加以下内容  
    ```
    patch:
    "menu/page_size": 9
    schema_list:
        - schema: clover
    ```  
* 为 `fcitx5` 添加环境变量  
    修改 `~/.pam_environment`, 添加以下内容  
    ```
    GTK_IM_MODULE DEFAULT=fcitx
    QT_IM_MODULE  DEFAULT=fcitx
    XMODIFIERS    DEFAULT=@im=fcitx
    INPUT_METHOD  DEFAULT=fcitx
    SDL_IM_MODULE DEFAULT=fcitx
    ```


###有问题大家随时提出
